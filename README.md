# Gextia Development Helper

Una extensi√≥n de VS Code que revoluciona la experiencia de desarrollo con Gextia, proporcionando autocompletado inteligente, gesti√≥n avanzada de proyectos y an√°lisis completo de herencia de modelos con soporte para repositorios remotos.

## ‚ú® Caracter√≠sticas Principales

### üéØ Gesti√≥n Avanzada de Proyectos
- **Perfiles configurables**: Crea m√∫ltiples perfiles de proyecto para diferentes instalaciones de Gextia
- **Detecci√≥n autom√°tica**: Encuentra autom√°ticamente carpetas de addons en tu workspace
- **M√∫ltiples fuentes**: Soporte para Gextia Core, Enterprise, Community y addons personalizados
- **Repositorios remotos**: Integraci√≥n directa con GitHub, GitLab y Bitbucket
- **Cambio r√°pido**: Alterna entre proyectos con un solo comando

### üåê Repositorios Remotos
- **GitHub/GitLab/Bitbucket**: Agrega repositorios directamente por URL
- **Ramas espec√≠ficas**: Trabaja con ramas espec√≠ficas (16.0, main, develop, etc.)
- **Subcarpetas**: Especifica subcarpetas dentro del repositorio (addons/, modules/)
- **Repositorios privados**: Soporte completo con tokens de autenticaci√≥n
- **Sincronizaci√≥n autom√°tica**: Mantiene el c√≥digo actualizado autom√°ticamente
- **Cache inteligente**: Sistema de cache local para m√°ximo rendimiento

### üß† Autocompletado Inteligente
- **Herencia completa**: Detecta autom√°ticamente modelos que heredan usando `_inherit`
- **Contexto consciente**: Sugerencias basadas en el modelo actual y sus relaciones
- **Campos y m√©todos**: Autocompletado de todos los campos y m√©todos disponibles
- **Navegaci√≥n r√°pida**: Salta a definiciones con Ctrl+Click
- **An√°lisis en tiempo real**: Actualizaci√≥n autom√°tica al guardar archivos

### üìä An√°lisis Avanzado de Modelos
- **Cach√© inteligente**: Sistema que se actualiza autom√°ticamente al detectar cambios
- **√Årbol de herencia**: Visualiza c√≥mo se relacionan tus modelos
- **Estad√≠sticas detalladas**: Informaci√≥n sobre modelos cargados y archivos rastreados
- **Soporte multi-versi√≥n**: Compatible con Gextia 11.0 hasta 17.0

## üöÄ Instalaci√≥n

1. Abre VS Code
2. Ve a Extensions (Ctrl+Shift+X)
3. Busca "Gextia Development Helper"
4. Haz clic en Install

## ‚öôÔ∏è Configuraci√≥n Inicial

### Crear tu primer perfil

1. Abre la paleta de comandos (Ctrl+Shift+P)
2. Ejecuta `Gextia: Create Project Profile`
3. Sigue el asistente de configuraci√≥n:
   - Nombra tu perfil (ej: "Proyecto Cliente X")
   - Selecciona la versi√≥n de Gextia
   - Configura las fuentes de tus addons

### Fuentes de addons soportadas

```
üéØ Estructura t√≠pica completa:

üìÅ Addons locales personalizados
‚îú‚îÄ‚îÄ /home/user/custom_addons/
‚îÇ   ‚îú‚îÄ‚îÄ mi_modulo/
‚îÇ   ‚îî‚îÄ‚îÄ otro_modulo/

üåê Repositorios remotos
‚îú‚îÄ‚îÄ https://github.com/OCA/server-tools (rama: 16.0)
‚îú‚îÄ‚îÄ https://github.com/OCA/web (rama: 16.0, subcarpeta: addons/)
‚îî‚îÄ‚îÄ https://gitlab.com/usuario/proyecto-privado (con token)

üîß Gextia Core (opcional)
‚îú‚îÄ‚îÄ /opt/gextia/16.0/
‚îÇ   ‚îú‚îÄ‚îÄ gextia/                    ‚Üê C√≥digo core
‚îÇ   ‚îî‚îÄ‚îÄ addons/                  ‚Üê Addons oficiales

üíº Gextia Enterprise (opcional)
‚îî‚îÄ‚îÄ /opt/gextia/enterprise/
```

### Configuraci√≥n de repositorios remotos

#### URLs soportadas:
```bash
‚úÖ https://github.com/OCA/server-tools
‚úÖ https://github.com/OCA/server-tools/tree/16.0
‚úÖ https://gitlab.com/usuario/proyecto
‚úÖ https://bitbucket.org/usuario/proyecto
‚úÖ git@github.com:usuario/proyecto.git
```

#### Ejemplos de configuraci√≥n:

**Repositorio p√∫blico con rama espec√≠fica:**
```
URL: https://github.com/OCA/server-tools
Rama: 16.0
Subcarpeta: (vac√≠o - usa todo el repositorio)
```

**Repositorio con subcarpeta:**
```
URL: https://github.com/gextia/gextia
Rama: 16.0
Subcarpeta: addons/
```

**Repositorio privado:**
```
URL: https://github.com/mi-empresa/addons-privados
Token: ghp_xxxxxxxxxxxxxxxxxxxx
Rama: main
```

## üìã Comandos Disponibles

### Gesti√≥n de Proyectos
| Comando | Descripci√≥n |
|---------|-------------|
| `Gextia: Create Project Profile` | Crear un nuevo perfil de proyecto |
| `Gextia: Switch Project Profile` | Cambiar entre perfiles existentes |
| `Gextia: Add Path to Current Project` | Agregar ruta de addons al proyecto actual |
| `Gextia: Add Remote Repository to Current Project` | Agregar repositorio remoto al proyecto actual |
| `Gextia: Manage Project Paths and Repositories` | Gestionar rutas y repositorios del proyecto |

### Cache y An√°lisis
| Comando | Descripci√≥n |
|---------|-------------|
| `Gextia: Refresh Models Cache` | Actualizar manualmente el cach√© de modelos |
| `Gextia: Show Models Cache Statistics` | Ver estad√≠sticas del cach√© actual |
| `Gextia: Show Model Inheritance Tree` | Mostrar √°rbol de herencia de modelos |
| `Gextia: Go to Model Definition` | Navegar a la definici√≥n de un modelo |
| `Gextia: Show Models Cache Log` | Ver log del cach√© de modelos |
| `Gextia: Debug Refresh Models Cache` | Debug del refresco del cach√© |

### Repositorios Remotos
| Comando | Descripci√≥n |
|---------|-------------|
| `Gextia: Sync Remote Repositories` | Sincronizar repositorios remotos |
| `Gextia: Show Remote Repositories Info` | Ver estado de repositorios remotos |
| `Gextia: Test Remote Repository Connection` | Probar conexi√≥n a repositorio remoto |
| `Gextia: Show Remote Repositories Sync Log` | Ver log de sincronizaci√≥n |
| `Gextia: Clear Remote Repositories Sync Log` | Limpiar log de sincronizaci√≥n |

## üéØ Casos de Uso Avanzados

### 1. Desarrollo con OCA (Gextia Community Association)

```python
# Perfil configurado con:
# - Addons locales: /home/dev/mi_proyecto/
# - OCA Server Tools: https://github.com/OCA/server-tools (16.0)
# - OCA Web: https://github.com/OCA/web (16.0)

class ResPartner(models.Model):
    _inherit = 'res.partner'
    
    def custom_method(self):
        # Autocompletado incluye campos de OCA autom√°ticamente
        self.partner_autocomplete_filter  # ‚Üê Campo de OCA
        self.base_location_geonames_import  # ‚Üê M√©todo de OCA
```

### 2. Proyecto Enterprise con repositorios privados

```python
# Perfil configurado con:
# - Gextia Core: /opt/gextia/16.0/
# - Gextia Enterprise: /opt/gextia/enterprise/
# - Repositorio privado: https://github.com/mi-empresa/addons

class SaleOrder(models.Model):
    _inherit = 'sale.order'
    
    def process_order(self):
        # Campos de Enterprise + repositorio privado disponibles
        self.l10n_mx_edi_cfdi_uuid  # ‚Üê Campo de Enterprise
        self.custom_approval_workflow  # ‚Üê Campo de repo privado
```

### 3. Desarrollo multi-cliente

```bash
# Perfil "Cliente A"
‚îú‚îÄ‚îÄ Addons locales: /projects/cliente-a/addons/
‚îú‚îÄ‚îÄ Repositorio: https://github.com/cliente-a/customizations
‚îî‚îÄ‚îÄ Versi√≥n: 16.0

# Perfil "Cliente B"  
‚îú‚îÄ‚îÄ Addons locales: /projects/cliente-b/addons/
‚îú‚îÄ‚îÄ Repositorio: https://gitlab.cliente-b.com/gextia-addons
‚îî‚îÄ‚îÄ Versi√≥n: 15.0

# Cambio r√°pido: Gextia: Switch Project Profile
```

## üîß Configuraci√≥n Avanzada

### Configuraciones disponibles

```json
{
  "gextia-dev-helper.currentProfile": "",
  "gextia-dev-helper.profiles": {},
  "gextia-dev-helper.gextiaVersion": "16.0",
  "gextia-dev-helper.enableDebugMode": false,
  "gextia-dev-helper.autoRefreshOnSave": true
}
```

### Exclusiones autom√°ticas

La extensi√≥n excluye autom√°ticamente:
- `**/migrations/**` - Archivos de migraci√≥n
- `**/tests/**` - Archivos de pruebas  
- `**/__pycache__/**` - Cache de Python
- `**/*.pyc` - Archivos compilados

### Tokens de autenticaci√≥n

**GitHub Personal Access Token:**
1. Ve a GitHub > Settings > Developer settings > Personal access tokens
2. Generate new token (classic)
3. Scopes necesarios: `repo` (para repositorios privados)

**GitLab Personal Access Token:**
1. Ve a GitLab > User Settings > Access Tokens
2. Add a personal access token
3. Scopes: `read_repository`

**Bitbucket App Password:**
1. Ve a Bitbucket > Personal settings > App passwords
2. Create app password
3. Permissions: `Repositories: Read`

## üîÑ Sincronizaci√≥n y Cache

### Sincronizaci√≥n autom√°tica
- Los repositorios se sincronizan autom√°ticamente cada 24 horas
- Puedes forzar sincronizaci√≥n: `Gextia: Sync Remote Repositories`
- El cache local se actualiza autom√°ticamente al guardar archivos

### Gesti√≥n de cache
- Cache almacenado en: `~/.vscode/gextia-dev-helper/cache/`
- Limpieza autom√°tica de archivos obsoletos
- Verificaci√≥n de integridad en cada sincronizaci√≥n

## üêõ Soluci√≥n de Problemas

### El autocompletado no funciona
1. Verifica que tengas un perfil activo: `Gextia: Show Cache Statistics`
2. Sincroniza repositorios: `Gextia: Sync Remote Repositories`
3. Refresca el cach√©: `Gextia: Refresh Models Cache`

### Error de conexi√≥n a repositorio remoto
1. Verifica la URL del repositorio
2. Comprueba tu conexi√≥n a internet
3. Para repositorios privados, verifica el token de autenticaci√≥n
4. Revisa los logs: View > Output > "Gextia Remote Repositories"

### Error HTTP 403 (Forbidden)
- **Repositorios OCA**: Configura un token de GitHub para evitar rate limits
- **Repositorios privados**: Verifica que el token tenga permisos `repo`
- **Repositorios p√∫blicos**: Algunos pueden requerir autenticaci√≥n

### Rendimiento lento
1. Verifica la configuraci√≥n de exclusiones
2. Considera desactivar `autoRefreshOnSave` para proyectos muy grandes
3. Usa `enableDebugMode: false` en producci√≥n
4. Limpia el cache: elimina `~/.vscode/gextia-dev-helper/cache/`

### Repositorio no sincroniza
1. Verifica permisos del token de autenticaci√≥n
2. Comprueba que la rama especificada existe
3. Revisa la configuraci√≥n de subcarpeta
4. Consulta logs detallados en modo debug

## üöÄ Casos de Uso Reales

### Startup desarrollando para m√∫ltiples clientes
- **Perfil por cliente** con repositorios espec√≠ficos
- **Sincronizaci√≥n autom√°tica** mantiene c√≥digo actualizado
- **Cambio r√°pido** entre proyectos sin reconfigurar

### Empresa usando OCA + desarrollos propios
- **Repositorios OCA** p√∫blicos sincronizados autom√°ticamente
- **Repositorio privado** de la empresa con token
- **Autocompletado completo** de toda la funcionalidad disponible

### Desarrollador freelance
- **M√∫ltiples versiones de Gextia** en diferentes perfiles
- **Repositorios de diferentes fuentes** (GitHub, GitLab, Bitbucket)
- **Cache inteligente** para trabajar offline

## üîç Caracter√≠sticas T√©cnicas

### An√°lisis de Modelos
- **Parser inteligente**: Analiza archivos Python de Gextia
- **Detecci√≥n de herencias**: Identifica `_inherit`, `_name`, y herencias m√∫ltiples
- **Campos y m√©todos**: Extrae informaci√≥n completa de modelos
- **Manifests**: Parsea `__manifest__.py` y `__openerp__.py`

### Gesti√≥n de Repositorios
- **Descarga ZIP**: Descarga repositorios como archivos ZIP
- **Extracci√≥n autom√°tica**: Extrae y organiza archivos localmente
- **Sincronizaci√≥n incremental**: Solo descarga cambios necesarios
- **Manejo de errores**: Reintentos autom√°ticos y logging detallado

### Autocompletado Contextual
- **An√°lisis de contexto**: Detecta modelo y m√©todo actual
- **Herencia completa**: Incluye campos y m√©todos heredados
- **Navegaci√≥n**: Ctrl+Click para ir a definiciones
- **Filtrado inteligente**: Sugerencias relevantes al contexto

## ü§ù Contribuir

¬øEncontraste un bug o tienes una idea? ¬°Contribuye!

1. Fork el repositorio: `https://github.com/Zarritas/vs-extension`
2. Crea una rama: `git checkout -b feature/nueva-funcionalidad`
3. Commit: `git commit -am 'Agregar soporte para X'`
4. Push: `git push origin feature/nueva-funcionalidad`
5. Abre un Pull Request

### Roadmap
- [ ] Interfaz gr√°fica para gesti√≥n de repositorios  
- [ ] Notificaciones de actualizaciones disponibles
- [ ] Soporte para m√°s proveedores Git
- [ ] An√°lisis de dependencias entre m√≥dulos
- [ ] Generador de snippets personalizados
- [ ] Integraci√≥n con Gextia Studio

## üìÑ Licencia

MIT License - ver [LICENSE](LICENSE) para m√°s detalles.

## üôè Agradecimientos

- **Comunidad OCA** por los excelentes addons de c√≥digo abierto
- **Gextia SA** por el framework que amamos desarrollar
- **Equipo de VS Code** por las APIs que hacen posible esta extensi√≥n
- **Comunidad de desarrolladores** que contribuye con feedback y mejoras

---

## üìä Estad√≠sticas del Proyecto

- **üéØ Casos de uso**: Desarrollo local, repositorios remotos, m√∫ltiples clientes
- **üåê Repositorios soportados**: GitHub, GitLab, Bitbucket, Git gen√©rico
- **üì¶ Versiones Gextia**: 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 17.0
- **üîß Tipos de instalaci√≥n**: Source, Docker, SaaS, On-premise

**¬øTe gusta la extensi√≥n?** ‚≠ê ¬°Dale una estrella en GitHub y comp√°rtela con la comunidad Gextia!

## üìû Soporte y Comunidad

- üêõ [Reportar bugs](https://github.com/Zarritas/vs-extension/issues)
- üí° [Solicitar features](https://github.com/Zarritas/vs-extension/discussions)
- üìñ [Documentaci√≥n completa](https://github.com/Zarritas/vs-extension/wiki)
- üí¨ [√önete a Discord](https://discord.gg/gextia-dev-helper)
- üìß Email: support@gextia-dev-helper.com

---

> **Tip**: ¬øNuevo en Gextia? Esta extensi√≥n te ayudar√° a entender mejor c√≥mo funcionan las herencias y dependencias entre m√≥dulos. ¬°Perfecto para aprender y para expertos!